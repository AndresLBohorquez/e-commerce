<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:html5="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <ui:composition>

        <body>
            <main id="content" role="main" class="main" style="margin: 30px 40px 0px 20px">
                
                <div class="card mb-3 mb-lg-5" >
                    <div class="card-header">
                        <h2 class="card-title h4">Email</h2>
                    </div>

                    <h:form style="margin: 10px 30px">

                        <div class="row form-group">
                            <label for="para" class="col-sm-1 col-form-label input-label" 
                                   style="padding-right: 0px">Para<i class="tio-help-outlined text-body ml-1" data-toggle="tooltip" data-placement="top" title="Ingrese destinatario"></i></label>

                            <div class="col-sm-9">
                                <h:panelGroup id="inputcorreo">
                                    <div class="input-group input-group-sm-down-break" style="height: 60px; overflow: auto">
                                        <h:inputText  class="js-tagify tagify-form-control tagify--noAnim form-control" validator="#{emailRequest.validateEmail}" 
                                                      value="#{emailRequest.to}"
                                                      html5:data-hs-tagify-options='{
                                                      "clearBtnSelector": "#removeTagsBtn"}'>
                                        </h:inputText>
                                    </div>
                                </h:panelGroup>
                                <button id="removeTagsBtn" class="btn btn-primary" style="margin-top: 10px">Remove all</button>
                                <h:commandButton class="btn btn-primary" style="margin: 10px 0px 0px 10px" 
                                                 value="All Clients" 
                                                 action="#{emailRequest.buscarCorreoClientes()}">
                                    <f:ajax render="inputcorreo"/>
                                </h:commandButton>

                            </div>
                        </div>
                        <div class="row form-group">
                            <label for="asunto" class="col-sm-1 col-form-label input-label" style="padding-right: 0px">Asunto</label>

                            <div class="col-sm-9">
                                <h:inputText value="#{emailRequest.subject}" class="form-control" id="asuntoLabel" />
                            </div>
                        </div>

                        <!-- File Attachment Button -->
                        <label class="btn transition-3d-hover custom-file-btn" for="fileAttachmentBtn">
                            <span id="customFileExample5"><i class="tio-attachment-diagonal"></i></span>
                            <input id="fileAttachmentBtn" name="custom-file" type="file" 
                                   class="js-file-attach custom-file-btn-input"
                                   data-hs-file-attach-options='{"textTarget": "#customFileExample5"}'/>
                        </label> 
                        <!-- End File Attachment Button -->


                        <span class="divider ">

                            <i class="tio-email-outlined"></i>

                        </span>

                        <div class="card">
                            <h5 class="p-mt-0">Mensaje</h5>

                            <p:textEditor secure="false" widgetVar="editor1" value="#{emailRequest.descr}" height="300"  />
                        </div>

                        <div class="d-flex justify-content-lg-start">
                            <h:commandButton style="margin-top: 10px" action="#{emailRequest.submitEmail()}" class="btn btn-primary" value="Enviar" />
                        </div>
                    </h:form>
                </div>
            </main>
        </body>
    </ui:composition>
</html>
